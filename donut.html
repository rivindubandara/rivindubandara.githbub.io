<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Green Donut Chart</title>
  <script src="https://cdn.amcharts.com/lib/5/index.js"></script>
  <script src="https://cdn.amcharts.com/lib/5/hierarchy.js"></script>
  <script src="https://cdn.amcharts.com/lib/5/themes/Animated.js"></script>
  <style>
    #chartdiv {
      width: 100%;
      height: 600px;
    }
  </style>
</head>
<body>

  <div id="chartdiv"></div>

  <script>
    am5.ready(function() {

      // Create root and apply theme
      var root = am5.Root.new("chartdiv");
      root.setThemes([am5themes_Animated.new(root)]);

      // Create a sunburst series
      var series = root.container.children.push(
        am5hierarchy.Sunburst.new(root, {
          singleBranchOnly: false,
          downDepth: 1,
          initialDepth: 3,
          valueField: "value",
          categoryField: "name",
          childDataField: "children",
          centerStrength: 0.4,
        })
      );

      // Define green shades for each depth
      const greenShades = [
        am5.color(0xD7E8C0), // lightest
        am5.color(0xB4D89B),
        am5.color(0x95C27A),
        am5.color(0x78AC5A),
        am5.color(0x5D9440), // darkest
      ];

      // Apply green colors based on depth
      series.slices.template.adapters.add("fill", function(fill, target) {
        let depth = target.dataItem.get("depth");
        return greenShades[depth % greenShades.length];
      });

      series.slices.template.adapters.add("stroke", function() {
        return am5.color(0xffffff);
      });

      // Label styling
      series.labels.template.setAll({
        text: "{name}",
        forceHidden: false,
        oversizedBehavior: "wrap",
        fontSize: 10,
        fill: am5.color(0x333333),
        maxWidth: 90,
        textAlign: "center",
      });

      // Sample data (replace with your real hierarchy)
      series.data.setAll([
        {
          name: "Core",
          value: 0,
          children: [
            {
              name: "Operations & Outlook",
              value: 0,
              children: [
                { name: "Zero Waste by 2030", value: 1 },
                { name: "Reduce Water", value: 1 },
                { name: "Environmental Office", value: 1 },
              ]
            },
            {
              name: "Design & Approach",
              value: 0,
              children: [
                { name: "Design for 100% Carbon Neutrality", value: 1 },
                { name: "Ensure Our Thinking Supports Our Vision", value: 1 }
              ]
            },
            {
              name: "Evaluation & Reporting",
              value: 0,
              children: [
                { name: "Benchmark Performance Outcomes", value: 1 }
              ]
            },
            {
              name: "Training & Education",
              value: 0,
              children: [
                { name: "Leadership", value: 1 },
                { name: "Promote Curiosity", value: 1 }
              ]
            },
            {
              name: "Outreach & Advocacy",
              value: 0,
              children: [
                { name: "Drive Industry Change", value: 1 }
              ]
            }
          ]
        }
      ]);

    }); // end am5.ready()
  </script>
</body>
</html>
